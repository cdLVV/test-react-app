(self["webpackChunkmy_react_app"]=self["webpackChunkmy_react_app"]||[]).push([[826],{8973:function(e,t,r){"use strict";var n=r(745);var a=r(5998);var o=r(4268);var i=r(4890);var c=r(9244);var s=r(6734);var u=r(7941);var l=r(2772);var d=r(2526);var f=r(9070);var p=r(5003);var y=r(9554);var m=r(4747);var v=r(9337);var b=r(3321);var _=r(5666);var h=r(2707);var g=r(9600);var j=r(1038);var x=r(8783);var P=r(1539);var S=r(8674);var O=r(1249);var w=r(7327);var C=r(2222);var N=r(6992);var k=r(189);var I=r(8921);var A=r(6248);var z=r(3599);var T=r(1477);var L=r(3066);var E=r(5389);var R=r(401);var B=r(5164);var q=r(1238);var D=r(4837);var W=r(7485);var F=r(465);var U=r(6651);var K=r(1437);var M=r(5285);var H=r(9865);var Z=r(3948);var X=r(5212);var Y=r(9714);var $=r(9601);var G=r(9669);var Q=r.n(G);var J=r(129);var V=r.n(J);var ee=r(8304);var te=r(489);var re=r(2419);var ne=r(1532);var ae=r(72);var oe=r(9137);var ie=r(1957);var ce=r(6306);var se=r(103);var ue=r(4592);var le=r(8276);var de=r(5082);var fe=r(2813);var pe=r(8222);var ye=r(8563);var me=r(336);var ve=r(7512);var be=r(1817);var _e=r(2165);function _typeof(e){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){if(t)_defineProperties(e.prototype,t);if(r)_defineProperties(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _inherits(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r=_getPrototypeOf(e),n;if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,a)}else{n=r.apply(this,arguments)}return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&(_typeof(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _assertThisInitialized(e)}function _assertThisInitialized(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _wrapNativeSuper(e){var t=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(e){if(e===null||!_isNativeFunction(e))return e;if(typeof e!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,e)};return _wrapNativeSuper(e)}function _construct(e,t,r){if(_isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(e,t,r){var n=[null];n.push.apply(n,t);var a=Function.bind.apply(e,n);var o=new a;if(r)_setPrototypeOf(o,r.prototype);return o}}return _construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _isNativeFunction(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function _setPrototypeOf(e,t){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf(e,t)}function _getPrototypeOf(e){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(e)}function _defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var he=function(e){_inherits(UserFriendlyError,e);var t=_createSuper(UserFriendlyError);function UserFriendlyError(){var e;_classCallCheck(this,UserFriendlyError);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}e=t.call.apply(t,[this].concat(n));_defineProperty(_assertThisInitialized(e),"__USER_FRIENDLY__",true);return e}return _createClass(UserFriendlyError)}(_wrapNativeSuper(Error));var ge=function(e){_inherits(ApiBusinessError,e);var t=_createSuper(ApiBusinessError);function ApiBusinessError(e,r,n,a){var o;_classCallCheck(this,ApiBusinessError);o=t.call(this,e);_defineProperty(_assertThisInitialized(o),"name","ApiBusinessError");o.errcode=r;o.data=n;o.config=a;o.errmsg=e;return o}return _createClass(ApiBusinessError)}(he);var je=function(e){_inherits(ApiNetError,e);var t=_createSuper(ApiNetError);function ApiNetError(e,r){var n;_classCallCheck(this,ApiNetError);n=t.call(this,e);_defineProperty(_assertThisInitialized(n),"name","ApiNetError");n.errcode=r;n.errmsg=e;return n}return _createClass(ApiNetError)}(he);var xe=r(8648);function showErrMsg(e,t){xe.Z.error({top:80,message:t||"请求错误",description:"原因：".concat(e)})}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){request_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function request_defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function request_classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function request_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function request_createClass(e,t,r){if(t)request_defineProperties(e.prototype,t);if(r)request_defineProperties(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var Pe={};var Se=function(){function Request(e,t){request_classCallCheck(this,Request);var r=_objectSpread(_objectSpread({},Pe),t);this.config=r;this.axiosInstance=e}request_createClass(Request,[{key:"then",value:function then(e,t){return this.send().then(e,t)}},{key:"catch",value:function _catch(e){return this.send().then(null,e)}},{key:"cancel",value:function cancel(){if(this.canceler){this.canceler()}return this}},{key:"appendParams",value:function appendParams(e){this.config.params=_objectSpread(_objectSpread({},this.config.params),e);return this}},{key:"setParams",value:function setParams(e){this.config.params=e;return this}},{key:"setData",value:function setData(e){this.config.data=e;return this}},{key:"setConfig",value:function setConfig(e){this.config=_objectSpread(_objectSpread({},this.config),e);return this}},{key:"setHeaders",value:function setHeaders(e){this.config.headers=_objectSpread(_objectSpread({},this.config.headers),e);return this}},{key:"appendData",value:function appendData(e){this.config.data=_objectSpread(_objectSpread({},this.config.data),e);return this}},{key:"send",value:function send(){this.cancel();var e=Q().CancelToken.source(),t=e.cancel,r=e.token;this.config.cancelToken=r;this.canceler=t;if(!this.config.headers){this.config.headers={}}var n=_objectSpread({},this.config);if(n.bodyType==="formData"&&n.data instanceof window.FormData===false){var a=new window.FormData;Object.keys(n.data).forEach((function(e){a.append(e,n.data[e])}));n.data=a}else if(n.bodyType==="url"){n.data=V().stringify(n.data)}delete n.bodyType;return this.axiosInstance(n)}}]);return Request}();var Oe=request_createClass((function Instantce(e,t){var r=this;request_classCallCheck(this,Instantce);request_defineProperty(this,"get",(function(e,t){return new Se(r.axiosInstance,_objectSpread(_objectSpread({method:"get",url:e},r.requestInstanceConfig),t))}));request_defineProperty(this,"post",(function(e,t){return new Se(r.axiosInstance,_objectSpread(_objectSpread({method:"post",url:e},r.requestInstanceConfig),t))}));request_defineProperty(this,"put",(function(e,t){return new Se(r.axiosInstance,_objectSpread(_objectSpread({method:"put",url:e},r.requestInstanceConfig),t))}));request_defineProperty(this,"delete",(function(e,t){return new Se(r.axiosInstance,_objectSpread(_objectSpread({method:"delete",url:e},r.requestInstanceConfig),t))}));request_defineProperty(this,"interceptor",{req:function(e){function req(t){return e.apply(this,arguments)}req.toString=function(){return e.toString()};return req}((function(e){r.axiosInstance.interceptors.request.use(e)})),res:function(e){function res(t){return e.apply(this,arguments)}res.toString=function(){return e.toString()};return res}((function(e){r.axiosInstance.interceptors.response.use(e)})),error:function error(e){r.axiosInstance.interceptors.response.use(undefined,e)}});this.axiosInstance=e;this.requestInstanceConfig=t}));function createInstance(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=Object.assign({},e);return new Oe(Q().create(t),e)}var we=createInstance({baseURL:"https://www.fastmock.site"});we.interceptor.req((function(e){var t=_objectSpread({},e.headers);Object.keys(t).forEach((function(e){if(t[e]===undefined)delete t[e]}));return _objectSpread(_objectSpread({},e),{},{headers:t})}));we.interceptor.res((function(e){var t;var r=e,n=r.data,a=r.config;if(a.notCheckCode||n.code===200){return n}if((t=a.showError)!==null&&t!==void 0?t:true){showErrMsg(n.desc)}return Promise.reject(new ge(n.desc,n.code,n,a))}));we.interceptor.error((function(e){var t;if(e instanceof ge){return Promise.reject(e)}var r=e,n=r.response,a=r.config,o=a===void 0?{}:a;var i="请求失败，请稍后再试";var c=-255;if(n){var s=n.status;c=s;switch(s){case 0:i="请求失败，请检查网络:".concat(c);break;case 404:i="您请求的地址不存在:".concat(c);break;default:i="服务异常，请稍后再试:".concat(c)}}else{i="请求失败，请检查网络"}if((t=o.showError)!==null&&t!==void 0?t:true){showErrMsg(i)}return Promise.reject(new je(i,c))}));var Ce=we;var Ne={NODE_ENV:"production",PUBLIC_URL:"/test-react-app"}.PUBLIC_URL;function getProducts(){return Ce.get("/shop-static/json/products.json").setConfig({baseURL:"".concat(Ne),notCheckCode:true})}var ke=r(8172);var Ie=["sku","availableSizes"];function productReducer_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function productReducer_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?productReducer_ownKeys(Object(r),!0).forEach((function(t){productReducer_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):productReducer_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function productReducer_defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _objectWithoutProperties(e,t){if(e==null)return{};var r=_objectWithoutPropertiesLoose(e,t);var n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++){n=o[a];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var a,o;for(o=0;o<n.length;o++){a=n[o];if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function asyncGeneratorStep(e,t,r,n,a,o,i){try{var c=e[o](i);var s=c.value}catch(e){r(e);return}if(c.done){t(s)}else{Promise.resolve(s).then(n,a)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(undefined)}))}}(0,ke.MD)();var Ae={NODE_ENV:"production",PUBLIC_URL:"/test-react-app"}.PUBLIC_URL;var ze=function sortList(e,t){switch(t){case"priceUp":return e.sort((function(e,t){return e.price-t.price}));case"priceDown":return e.sort((function(e,t){return t.price-e.price}));default:return e}};var Te=(0,o.hg)("product/requestProducts",function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var t,r,n;return regeneratorRuntime.wrap((function _callee$(a){while(1){switch(a.prev=a.next){case 0:t=e.sizes,r=e.sort;a.next=3;return getProducts().setParams({sizes:Array.from(t).join(","),sort:r});case 3:n=a.sent;return a.abrupt("return",new Promise((function(e){setTimeout((function(){e(ze(n.data.products.filter((function(e){return t.size===0||intersection(t,e.availableSizes)})).map((function(e){var t=e.sku,r=e.availableSizes,n=_objectWithoutProperties(e,Ie);return productReducer_objectSpread(productReducer_objectSpread({},n),{},{img1:"".concat(Ae,"/shop-static/products/").concat(t,"-1-product.webp"),img2:"".concat(Ae,"/shop-static/products/").concat(t,"-2-product.webp"),sku:t,availableSizes:Array.from(new Set(r))})})),r))}),1e3)})));case 5:case"end":return a.stop()}}}),_callee)})));return function(t){return e.apply(this,arguments)}}());function intersection(e,t){return t.some((function(t){return e.has(t)}))}var Le=["XS","S","M","ML","L","XL","XXL"];var Ee=(0,o.oM)({name:"product",initialState:{sizes:new Set([]),allSize:Le,products:[],allProducts:[],loading:false,sort:""},reducers:{setSizes:function setSizes(e,t){var r=t.payload;if(e.sizes.has(r)){e.sizes.delete(r)}else{e.sizes.add(r)}},setSort:function setSort(e,t){var r=t.payload;e.sort=r}},extraReducers:function extraReducers(e){e.addCase(Te.pending,(function(e,t){e.loading=true}));e.addCase(Te.fulfilled,(function(e,t){e.loading=false;e.allProducts=t.payload;e.products=t.payload}));e.addCase(Te.rejected,(function(e,t){e.loading=false}))}});var Re=Ee.actions,Be=Re.setSizes,qe=Re.setSort;var De=r(5827);var We=r(9826);var Fe=r(1058);var Ue=r(2077);var Ke=r.n(Ue);var Me=function formatPrice(e){return Ke()(e).format("0,0.00")};var He=function subtract(e,t){return Ke()(e).subtract(t).value()};var Ze=function add(e,t){return Ke()(e).add(t).value()};function fixedBody(){var e=document.body.scrollTop||document.documentElement.scrollTop;document.body.style.cssText+="position:fixed;top:-"+e+"px;"}function looseBody(){var e=document.body;e.style.position="";var t=e.style.top;document.body.scrollTop=document.documentElement.scrollTop=-parseInt(t);e.style.top=""}function getStyleName(e,t,r,n){return"".concat(e,"-").concat(t," ").concat(r[t]||"").concat(n?" ".concat(n):"")}function shopCartReducer_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function shopCartReducer_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?shopCartReducer_ownKeys(Object(r),!0).forEach((function(t){shopCartReducer_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):shopCartReducer_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function shopCartReducer_defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var Xe=function getInstallments(e){return e.reduce((function(e,t){e=t.installments>e?t.installments:e;return e}),0)};var Ye=(0,o.oM)({name:"shopCart",initialState:{carts:[],count:0,totalPrice:0,totalInstallments:0,totalCurrencyFormat:""},reducers:{addProduct:function addProduct(e,t){var r=t.payload;var n=r.item,a=r.size;var o=e.carts.find((function(e){return n.id===e.id&&a===e.size}));if(o){o.quantity+=1}else{e.carts.push(shopCartReducer_objectSpread(shopCartReducer_objectSpread({},n),{},{quantity:1,size:a}));e.totalInstallments=e.totalInstallments>n.installments?e.totalInstallments:n.installments;e.totalCurrencyFormat=e.totalCurrencyFormat||n.currencyFormat}e.totalPrice=Ze(e.totalPrice,n.price);e.count+=1},subtractProduct:function subtractProduct(e,t){var r=t.payload;var n=0;var a=e.carts.filter((function(t){var a=t.id===r.id&&t.size===r.size;if(a){e.count-=t.quantity;n+=t.quantity*t.price;t.quantity=0}return!a}));e.carts=a;e.totalInstallments=Xe(a);e.totalPrice=He(e.totalPrice,n)},subtractQuantity:function subtractQuantity(e,t){var r=t.payload;var n=e.carts.find((function(e){return r.id===e.id&&e.size===r.size}));if(n&&n.quantity>1){n.quantity-=1;e.totalPrice=He(e.totalPrice,n.price);e.count-=1}},changePruductNumber:function changePruductNumber(e,t){var r=t.payload;var n=r.item,a=r.quantity;var o=e.carts.find((function(e){return n.id===e.id&&e.size===n.size}));if(o){e.totalPrice=Ze(a*o.price,He(e.totalPrice,o.quantity*o.price));e.count=e.count-o.quantity+a;o.quantity=a;e.totalInstallments=Xe(e.carts)}},deleteAll:function deleteAll(e){e.carts=[];e.count=0;e.totalPrice=0;e.totalInstallments=0}}});var $e=Ye.actions,Ge=$e.addProduct,Qe=$e.subtractProduct,Je=$e.subtractQuantity,Ve=$e.deleteAll,et=$e.changePruductNumber;var tt=r(8603);var rt={key:"root",storage:s.Z,whitelist:["shopCart"]};var nt=(0,i.UY)({shopCart:Ye.reducer,product:Ee.reducer});var at=(0,c.OJ)(rt,nt);var ot=(0,o.xC)({reducer:at,middleware:function middleware(e){return e({serializableCheck:false})}});var it=(0,c.p5)(ot);var ct=r(7042);var st=r(8309);var ut=r(4916);var lt=r(7294);var dt=function useAppDispatch(){return(0,a.I0)()};var ft=a.v9;var pt=r(5893);var yt=function Loader(e){var t=e.isLoading,r=e.className,n=r===void 0?"":r;if(t){return(0,pt.jsx)("i",{className:"".concat(n," fa fa-spinner fa-spin fa-2x fa-fw")})}return null};var mt=(0,lt.memo)(yt);var vt=r(4184);var bt=r.n(vt);var _t={index:"index-module__index--bdwMb",title:"index-module__title--IJvMa",sizes:"index-module__sizes--WKHve",size:"index-module__size--BgY5Y",checked:"index-module__checked--zoK3h",notChecked:"index-module__notChecked--ymm74"};function SizeBar(e){var t=e.sizes,r=e.checked,n=e.onSizeChange;var a=(0,lt.useCallback)((function(e){var t=e.target.dataset.size;console.log({size:t});if(t){n(t)}}),[n]);return(0,pt.jsxs)("nav",{className:_t.index,children:[(0,pt.jsx)("h3",{className:_t.title,children:"Sizes:"}),(0,pt.jsx)("div",{className:_t.sizes,onClick:a,children:t.map((function(e){return(0,pt.jsx)("div",{"data-size":e,className:getStyleName("size-bar","item",_t,bt()(_t.size,r.has(e)?_t.checked:_t.notChecked)),children:e},e)}))})]})}var ht=(0,lt.memo)(SizeBar);var gt=r(3123);var jt={};var xt=r(7090);var Pt=r(9394);var St=r.p+"static/media/loading.22555b55def970341edf.gif";var Ot=["src","srcSet","className","lazy","defaultSrc"];function LazyImage_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LazyImage_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LazyImage_ownKeys(Object(r),!0).forEach((function(t){LazyImage_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LazyImage_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function LazyImage_defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function LazyImage_objectWithoutProperties(e,t){if(e==null)return{};var r=LazyImage_objectWithoutPropertiesLoose(e,t);var n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++){n=o[a];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function LazyImage_objectWithoutPropertiesLoose(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var a,o;for(o=0;o<n.length;o++){a=n[o];if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function LazyImage_LazyImage(e){var t=e.src,r=e.srcSet,n=e.className,a=e.lazy,o=a===void 0?true:a,i=e.defaultSrc,c=i===void 0?St:i,s=LazyImage_objectWithoutProperties(e,Ot);return(0,pt.jsx)("img",LazyImage_objectSpread(LazyImage_objectSpread({src:c,"data-src":t,"data-srcset":r},s),{},{className:bt()(n,{lazyload:o})}))}var wt=(0,lt.memo)(LazyImage_LazyImage);var Ct={btn:"index-module__btn--yBsQ_",index:"index-module__index--z0n4D",bg2:"index-module__bg2--xLhyY",bg1:"index-module__bg1--KTF0E",bg:"index-module__bg--X8zxO",free:"index-module__free--Ycrm9",title:"index-module__title--BW929",price:"index-module__price--_xD3Q",num1:"index-module__num1--ZOFD5",num2:"index-module__num2--oyNGw",installments:"index-module__installments--By4ld",grow:"index-module__grow--gJ_en",availableSizes:"index-module__availableSizes--MtsLp"};function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}function _arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function _iterableToArrayLimit(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var o=false;var i,c;try{for(r=r.call(e);!(a=(i=r.next()).done);a=true){n.push(i.value);if(t&&n.length===t)break}}catch(e){o=true;c=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(o)throw c}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}var Nt="product_item";function Products(e){var t=e.className,r=t===void 0?"":t,n=e.data,a=e.onAddToCart;var o=n.title,i=n.price,c=n.installments,s=n.currencyFormat,u=n.isFreeShipping,l=n.img1,d=n.img2;var f=(0,lt.useMemo)((function(){return Me(i).split(".")}),[i]),p=_slicedToArray(f,2),y=p[0],m=p[1];var v=(0,lt.useCallback)((function(){a&&a(n)}),[n,a]);return(0,pt.jsxs)("div",{className:getStyleName(Nt,"index",Ct,r),children:[u&&(0,pt.jsx)("div",{className:Ct.free,children:"Free shipping"}),(0,pt.jsx)("div",{className:bt()(Ct.bg,Ct.bg1,"h-[270px] sm:h-[320px]"),children:(0,pt.jsx)(wt,{src:l})}),(0,pt.jsx)("div",{className:bt()(Ct.bg,Ct.bg2,"h-[270px] sm:h-[320px]"),children:(0,pt.jsx)(wt,{src:d})}),(0,pt.jsx)("div",{className:Ct.title,children:o}),(0,pt.jsxs)("div",{className:Ct.price,children:[s,(0,pt.jsx)("span",{className:Ct.num1,children:y}),(0,pt.jsxs)("span",{className:Ct.num2,children:[".",m]})]}),!!c&&(0,pt.jsxs)("div",{className:Ct.installments,children:["or ",c," x",(0,pt.jsxs)("span",{children:[s,Me(i/c)]})]}),(0,pt.jsx)("div",{className:Ct.grow}),(0,pt.jsx)("button",{className:getStyleName(Nt+"_add_to_cart","btn",Ct),onClick:v,children:"Add to cart"})]})}var kt=(0,lt.memo)(Products);var It=[{value:"",label:"normal"},{value:"priceUp",label:"Price, low to high"},{value:"priceDown",label:"Price, high to low"}];var At=r(3016);var zt={index:"index-module__index--ssPxx",btn:"index-module__btn--iaTun",sorts:"index-module__sorts--W9uD7",sort:"index-module__sort--kzudJ",checked:"index-module__checked--OP9xu",notChecked:"index-module__notChecked--cc4oF"};function Sort_slicedToArray(e,t){return Sort_arrayWithHoles(e)||Sort_iterableToArrayLimit(e,t)||Sort_unsupportedIterableToArray(e,t)||Sort_nonIterableRest()}function Sort_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sort_unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return Sort_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sort_arrayLikeToArray(e,t)}function Sort_arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function Sort_iterableToArrayLimit(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var o=false;var i,c;try{for(r=r.call(e);!(a=(i=r.next()).done);a=true){n.push(i.value);if(t&&n.length===t)break}}catch(e){o=true;c=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(o)throw c}}return n}function Sort_arrayWithHoles(e){if(Array.isArray(e))return e}function Sort(e){var t=e.onSortChange,r=e.checked;var n=(0,lt.useState)(false),a=Sort_slicedToArray(n,2),o=a[0],i=a[1];var c=(0,lt.useCallback)((function(e){i(e)}),[]);var s=(0,lt.useCallback)((function(e){var r=e.target.dataset.sort;if(typeof r==="string"){t(r)}}),[t]);var u=(0,pt.jsx)("div",{className:zt.sorts,onClick:s,children:It.map((function(e){return(0,pt.jsx)("div",{"data-sort":e.value,className:getStyleName("sort-filter-item",e.value||"normal",zt,bt()(zt.sort,r===e.value?zt.checked:zt.notChecked)),children:e.label},e.value)}))});var l=(0,lt.useMemo)((function(){var e;return r&&((e=It.find((function(e){return e.value===r})))===null||e===void 0?void 0:e.label)||"Sort"}),[r]);return(0,pt.jsx)("div",{className:zt.index,children:(0,pt.jsx)(At.Z,{content:u,trigger:"click",placement:"bottomRight",visible:o,onVisibleChange:c,children:(0,pt.jsxs)("button",{className:getStyleName("sort-filter","btn",zt),children:[l,(0,pt.jsx)("i",{className:"fa fa-angle-down fa-x"})]})})})}var Tt=(0,lt.memo)(Sort);var Lt={index:"index-module__index--LaNsO",count:"index-module__count--y4wt5",list:"index-module__list--IZ0z_"};function Products_Products(e){var t=e.className,r=e.list,n=e.onAddToCart,a=e.onSortChange,o=e.sort;return(0,pt.jsxs)("div",{className:bt()(t,Lt.index),children:[(0,pt.jsxs)("div",{className:Lt.count,children:[(0,pt.jsxs)("div",{children:[r.length," Product(s) found"]}),(0,pt.jsx)(Tt,{onSortChange:a,checked:o})]}),(0,pt.jsx)("div",{className:getStyleName("products","list",Lt),children:r.map((function(e){return(0,pt.jsx)(kt,{data:e,onAddToCart:n},e.sku)}))})]})}var Et=(0,lt.memo)(Products_Products);var Rt={color:"black",aaaaaaaaaaaa:"App-module__aaaaaaaaaaaa--uVtS4",app:"App-module__app--aqAx3",products:"App-module__products--KSNyN",loading:"App-module__loading--iTEXU",sizes:"App-module__sizes--griSM"};var Bt=r(9695);var qt=r(9166);var Dt={cartBtn:"index-module__cartBtn--KpQ18",badge:"index-module__badge--kpUqJ"};function CartButton(e){var t=e.count,r=e.onClick,n=e.className;return(0,pt.jsx)("button",{className:bt()(Dt.cartBtn,n),onClick:r,children:(0,pt.jsx)(qt.Z,{showZero:true,className:Dt.badge,count:t,style:{backgroundColor:"rgb(234, 191, 0)"}})})}var Wt=(0,lt.memo)(CartButton);var Ft={mask:"index-module__mask--YzJTl",cartBtn:"index-module__cartBtn--Wmohh",header:"index-module__header--WyfeA",cartList:"index-module__cartList--kXlYv",empty:"index-module__empty--hn5W8",panelBottom:"index-module__panelBottom--D2u6E",textWrap:"index-module__textWrap--uhkVk",text:"index-module__text--AeRAF",price:"index-module__price--yLF00",first:"index-module__first--D9zLy",last:"index-module__last--SPrFm",checkBtn:"index-module__checkBtn--Pf_H5",cartButton:"index-module__cartButton--ZiFY2",closeBtn:"index-module__closeBtn--GOn70",cartButton2:"index-module__cartButton2--HRnWx",show:"index-module__show--LdwS3",cartItem:"index-module__cartItem--dbIBy",img:"index-module__img--TDCF9",desc:"index-module__desc--Wweio",btnWrap:"index-module__btnWrap--LB_Pp",btn:"index-module__btn--nm0Pu",delBtn:"index-module__delBtn--ivkXK"};var Ut=r(9653);var Kt=r(9223);var Mt=["onChange","value"];function NumericInput_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function NumericInput_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NumericInput_ownKeys(Object(r),!0).forEach((function(t){NumericInput_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NumericInput_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NumericInput_defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function NumericInput_slicedToArray(e,t){return NumericInput_arrayWithHoles(e)||NumericInput_iterableToArrayLimit(e,t)||NumericInput_unsupportedIterableToArray(e,t)||NumericInput_nonIterableRest()}function NumericInput_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function NumericInput_unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return NumericInput_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NumericInput_arrayLikeToArray(e,t)}function NumericInput_arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function NumericInput_iterableToArrayLimit(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var o=false;var i,c;try{for(r=r.call(e);!(a=(i=r.next()).done);a=true){n.push(i.value);if(t&&n.length===t)break}}catch(e){o=true;c=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(o)throw c}}return n}function NumericInput_arrayWithHoles(e){if(Array.isArray(e))return e}function NumericInput_objectWithoutProperties(e,t){if(e==null)return{};var r=NumericInput_objectWithoutPropertiesLoose(e,t);var n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++){n=o[a];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function NumericInput_objectWithoutPropertiesLoose(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var a,o;for(o=0;o<n.length;o++){a=n[o];if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Ht=function NumericInput(e){var t=e.onChange,r=e.value,n=NumericInput_objectWithoutProperties(e,Mt);var a=(0,lt.useState)(r),o=NumericInput_slicedToArray(a,2),i=o[0],c=o[1];var s=(0,lt.useCallback)((function(e){var t=e.target.value;var r=/^[1-9]\d*$/;if(!isNaN(t)&&r.test(t)||t===""){c(t)}}),[]);var u=(0,lt.useCallback)((function(){t(Number(i)||1)}),[t,i]);(0,lt.useEffect)((function(){c(r)}),[r]);return(0,pt.jsx)(Kt.Z,NumericInput_objectSpread(NumericInput_objectSpread({},n),{},{style:{width:50,textAlign:"center"},min:1,max:100,value:i,onBlur:u,onChange:s,maxLength:25}))};var Zt=(0,lt.memo)(Ht);function CartPanel_defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var Xt="cart_panel";function CartPanel(e){var t=e.count,r=e.onClose,n=e.onExpand,a=e.isExpand,o=e.list,i=e.totalPrice,c=e.totalCurrencyFormat,s=e.totalInstallments;var u=dt();var l=(0,lt.useCallback)((function(){Bt.Z.confirm({title:"确认购买当前购物车的商品?",content:"Checkout - Subtotal: $ ".concat(Me(i)),okText:"确认",onOk:function onOk(){u(Ve({}))},cancelText:"再想想",onCancel:function onCancel(){console.log("Cancel")}})}),[i]);var d=(0,lt.useCallback)((function(e){u(Qe(e))}),[]);var f=(0,lt.useCallback)((function(e){u(Je(e))}),[]);var p=(0,lt.useCallback)((function(e){u(Ge({item:e,size:e.size}))}),[]);var y=(0,lt.useCallback)((function(e){return function(t){return u(et({item:e,quantity:t}))}}),[u]);var m=(0,lt.useMemo)((function(){return getStyleName(Xt,"cartItem",Ft)}),[]);return(0,pt.jsxs)(pt.Fragment,{children:[a&&(0,pt.jsx)("div",{className:Ft.mask}),(0,pt.jsxs)("div",{"data-expand":a,className:bt()(Ft.cartBtn,"".concat(Xt),CartPanel_defineProperty({},Ft.show,a)),children:[(0,pt.jsx)(Wt,{className:getStyleName(Xt,"cartButton",Ft),count:t,onClick:n}),(0,pt.jsx)("button",{className:getStyleName(Xt,"closeBtn",Ft),onClick:r,children:"X"}),(0,pt.jsxs)("header",{className:Ft.header,children:[(0,pt.jsx)(Wt,{className:getStyleName(Xt,"cartButton2",Ft),count:t}),(0,pt.jsx)("span",{children:"Cart"})]}),(0,pt.jsxs)("main",{className:getStyleName(Xt,"cartList",Ft),children:[o.map((function(e){return(0,pt.jsxs)("div",{className:m,children:[(0,pt.jsx)("img",{className:Ft.img,src:e.img1,alt:e.title}),(0,pt.jsxs)("div",{className:Ft.desc,children:[(0,pt.jsx)("div",{children:e.title}),(0,pt.jsxs)("div",{children:["".concat(e.size," | ").concat(e.style)," ",(0,pt.jsx)("br",{}),"Quantity: ",e.quantity]})]}),(0,pt.jsxs)("div",{className:Ft.btnWrap,children:[(0,pt.jsx)("div",{children:"".concat(e.currencyFormat,"  ").concat(Me(e.price))}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("button",{className:getStyleName(Xt,"cartItem-subtract-btn",Ft,Ft.btn),disabled:e.quantity<=1,onClick:function onClick(){return f(e)},children:"-"}),(0,pt.jsx)(Zt,{className:"".concat(Xt,"-cartItem-quantity"),value:e.quantity,onChange:y(e)}),(0,pt.jsx)("button",{className:getStyleName(Xt,"cartItem-add-btn",Ft,Ft.btn),onClick:function onClick(){return p(e)},children:"+"})]})]}),(0,pt.jsx)("button",{className:getStyleName(Xt,"cartItem-del-btn",Ft,Ft.delBtn),onClick:function onClick(){return d(e)}})]},"".concat(e.sku,"-").concat(e.size))})),o.length===0&&(0,pt.jsxs)("div",{className:Ft.empty,children:["Add some products in the cart ",(0,pt.jsx)("br",{}),":)"]})]}),(0,pt.jsxs)("div",{className:Ft.panelBottom,children:[(0,pt.jsxs)("div",{className:Ft.textWrap,children:[(0,pt.jsx)("div",{className:Ft.text,children:"SUBTOTAL"}),(0,pt.jsxs)("div",{className:Ft.price,children:[(0,pt.jsx)("div",{className:Ft.first,children:"$  ".concat(Me(i||0))}),!!s&&(0,pt.jsx)("div",{className:Ft.last,children:"OR UP TO ".concat(s," x ").concat(c," ").concat(Me(i/s))})]})]}),(0,pt.jsx)("button",{className:getStyleName(Xt,"checkBtn",Ft),disabled:!t,onClick:l,children:"Checkout"})]})]})]})}var Yt=(0,lt.memo)(CartPanel);var $t=r(7685);var Gt={color:"black"};function App_slicedToArray(e,t){return App_arrayWithHoles(e)||App_iterableToArrayLimit(e,t)||App_unsupportedIterableToArray(e,t)||App_nonIterableRest()}function App_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function App_unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return App_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return App_arrayLikeToArray(e,t)}function App_arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function App_iterableToArrayLimit(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var o=false;var i,c;try{for(r=r.call(e);!(a=(i=r.next()).done);a=true){n.push(i.value);if(t&&n.length===t)break}}catch(e){o=true;c=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(o)throw c}}return n}function App_arrayWithHoles(e){if(Array.isArray(e))return e}console.log({styles2:Gt});console.log({styles:Rt});function App(){var e=ft((function(e){return e})),t=e.shopCart,r=e.product;var n=r.loading,a=r.products,o=r.sizes,i=r.allSize,c=r.sort;var s=t.carts,u=t.count,l=t.totalPrice,d=t.totalCurrencyFormat,f=t.totalInstallments;var p=(0,lt.useState)(false),y=App_slicedToArray(p,2),m=y[0],v=y[1];var b=(0,lt.useState)(),_=App_slicedToArray(b,2),h=_[0],g=_[1];var j=dt();(0,lt.useEffect)((function(){j(Te({sizes:o,sort:c}))}),[j,o,c]);var x=(0,lt.useCallback)((function(e){j(Be(e))}),[]);var P=(0,lt.useCallback)((function(e){g(e)}),[]);var S=(0,lt.useCallback)((function(e){var t=e.target.dataset.size;if(t){j(Ge({item:h,size:t}));g(undefined)}}),[h,j]);var O=(0,lt.useCallback)((function(){v(false);looseBody()}),[]);var w=(0,lt.useCallback)((function(){v(true);fixedBody()}),[]);var C=(0,lt.useCallback)((function(e){j(qe(e))}),[o]);return(0,pt.jsxs)("div",{className:Rt.app,children:[(0,pt.jsx)(mt,{className:Rt.loading,isLoading:n}),(0,pt.jsx)(ht,{sizes:i,checked:o,onSizeChange:x}),(0,pt.jsx)(Et,{className:Rt.products,list:a,onAddToCart:P,onSortChange:C,sort:c}),(0,pt.jsx)(Yt,{isExpand:m,onClose:O,onExpand:w,count:u,totalPrice:l,totalCurrencyFormat:d,totalInstallments:f,list:s}),(0,pt.jsx)($t.Z,{title:(0,pt.jsx)("div",{className:"text-center font-bold text-lg",children:"请选择样式大小"}),placement:"bottom",closable:false,visible:!!h,onClose:function onClose(){return g(undefined)},children:(0,pt.jsx)("div",{className:"".concat(Rt.sizes," product_to_choose_size_container"),onClick:S,children:h===null||h===void 0?void 0:h.availableSizes.map((function(e){return(0,pt.jsx)("div",{className:"product_to_choose_size_item","data-size":e,children:e},e)}))})}),(0,pt.jsx)("div",{id:"shopping-cart-count",className:"hidden",children:u})]})}var Qt={};var Jt=n.createRoot(document.getElementById("root"));Jt.render((0,pt.jsx)(a.zt,{store:ot,children:(0,pt.jsx)(tt.r,{loading:(0,pt.jsx)(mt,{className:"fixed top-0 bottom-0 left-0 right-0 m-auto flex items-center justify-center",isLoading:true}),persistor:it,children:(0,pt.jsx)(App,{})})}))},4654:function(){}},function(e){var __webpack_exec__=function(t){return e(e.s=t)};e.O(0,[920,369,703],(function(){return __webpack_exec__(8973)}));var t=e.O()}]);